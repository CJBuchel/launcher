{"version":3,"file":"relay.js","sourceRoot":"","sources":["relay.ts"],"names":["Connection","Connection.constructor","Connection._log","Connection._connect","Connection._reconnect","Connection._handleMessage","Connection._publish","Connection._subscribe","Connection.start","Relay","Relay.constructor","Relay.start"],"mappings":"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KA,IAAIA,CAACA,IAAIA,UAAKA,OAAOA,CAACA,KAAOA,CAACA,CAACA;QAEhEA,EAAEA,CAACA,CAACA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA;YACxBA,IAAIA,CAACA,QAAQA,CAACA,OAAOA,EAAEA,OAAOA,CAACA,CAACA;QACjCA,CAACA;QAACA,IAAIA,CAACA,CAACA;YACPA,OAAOA,CAACA,OAAOA,CAACA,OAAOA,CAACA;iBACtBA,IAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA;iBACvBA,IAAIA,CAACA,UAACA,WAA0CA;gBAChDA,EAAEA,CAACA,CAACA,WAAWA,KAAKA,SAASA,CAACA,CAACA,CAACA;oBAC/BA,MAAMA,CAACA;gBACRA,CAACA;gBACDA,kBAAWA,CAACA,WAAWA,CAACA,CAACA,OAAOA,CAACA,UAACA,GAAYA;oBAC7CA,EAAEA,CAACA,CAACA,OAAOA,GAAGA,KAAKA,QAAQA,CAACA,CAACA,CAACA;wBAC7BA,MAAMA,IAAIA,KAAKA,CAACA,kEAAkEA,CAACA,CAACA;oBACrFA,CAACA;oBACDA,EAAEA,CAACA,CAACA,OAAOA,GAAGA,CAACA,KAAKA,KAAKA,QAAQA,CAACA,CAACA,CAACA;wBACnCA,MAAMA,IAAIA,KAAKA,CAACA,oDAAoDA,CAACA,CAACA;oBACvEA,CAACA;oBACDA,KAAIA,CAACA,QAAQA,CAACA,GAAGA,EAAEA,OAAOA,CAACA,CAACA;gBAC7BA,CAACA,CAACA,CAACA;YACJA,CAACA,CAACA,CAACA,KAAKA,CAACA,UAACA,CAAMA;gBACfA,YAAYA,CAACA,cAAQA,MAAMA,IAAIA,KAAKA,CAACA,4BAA4BA,GAAGA,MAAMA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;YACpFA,CAACA,CAACA,CAACA;QACLA,CAACA;IACFA,CAACA;IAEOL,6BAAQA,GAAhBA,UAAiBA,OAAgBA,EAAEA,OAAgBA;QAAnDM,iBAYCA;QAXAA,OAAOA,CAACA,MAAMA,CAACA,OAAOA,CAACA,UAACA,GAAaA;YACpCA,IAAIA,OAAOA,GAAGA,KAAIA,CAACA,KAAKA,CAACA,WAAWA,CAACA,GAAGA,CAACA,MAAMA,CAACA,CAACA;YACjDA,mDAAmDA;YACnDA,8DAA8DA;YAC9DA,OAAOA,CAACA,GAAGA,CAACA,UAAQA,GAAGA,CAACA,MAAMA,SAAIA,GAAGA,CAACA,IAAIA,WAAMA,OAAOA,CAACA,KAAOA,CAACA,CAACA;YACjEA,EAAEA,CAACA,CAACA,OAAOA,CAACA,MAAMA,CAACA,CAACA,CAACA;gBACpBA,OAAOA,CAACA,MAAMA,CAACA,OAAOA,CAACA,GAAGA,CAACA,IAAIA,EAAEA,OAAOA,CAACA,CAACA;YAC3CA,CAACA;YAACA,IAAIA,CAACA,CAACA;gBACPA,OAAOA,CAACA,IAAIA,CAACA,iBAAeA,GAAGA,CAACA,MAAMA,oBAAiBA,CAACA,CAACA;YAC1DA,CAACA;QACFA,CAACA,CAACA,CAACA;IACJA,CAACA;IAEON,+BAAUA,GAAlBA;QAAAO,iBAMCA;QALAA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,IAAIA,CAACA,QAAQA,CAACA,CAACA,CAACA;YAC9BA,IAAIA,CAACA,QAAQA,CAACA,EAAEA,CAACA,CAACA,KAAKA,CAACA,OAAOA,CAACA,UAACA,CAACA;gBACjCA,KAAIA,CAACA,MAAMA,CAACA,SAASA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,EAAEA,CAACA,CAACA,OAAOA,EAAEA,EAAEA,CAACA,CAACA;YACnDA,CAACA,CAACA,CAACA;QACJA,CAACA;IACFA,CAACA;IAEDP,0BAAKA,GAALA;QACCQ,IAAIA,CAACA,QAAQA,EAAEA,CAACA;IACjBA,CAACA;IACFR,iBAACA;AAADA,CAACA,AAtJD,IAsJC;AAtJY,kBAAU,aAsJtB,CAAA;AAED;IAICS;;;;;;;OAOGA;IACHA,eAAYA,UAAsBA,EAAEA,OAAgBA;QAZrDC,iBA2BCA;QAzBOA,gBAAWA,GAAmCA,EAAEA,CAACA;QAWvDA,IAAIA,CAACA,MAAMA,GAAGA,oBAAWA,CAACA,UAAUA,EAAEA,OAAOA,CAACA,CAACA;QAE/CA,iEAAiEA;QACjEA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,CAACA,WAAWA,CAACA,CAACA,OAAOA,CAACA,UAACA,IAAYA;YACzDA,KAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,GAAGA,IAAIA,UAAUA,CAACA,KAAIA,EAAEA,IAAIA,CAACA,CAACA;QACrDA,CAACA,CAACA,CAACA;IACJA,CAACA;IAEDD,qBAAKA,GAALA;QAAAE,iBAKCA;QAJAA,wBAAwBA;QACxBA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA,OAAOA,CAACA,UAACA,IAAYA;YAClDA,KAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,CAACA,KAAKA,EAAEA,CAACA;QAChCA,CAACA,CAACA,CAACA;IACJA,CAACA;IACFF,YAACA;AAADA,CAACA,AA3BD,IA2BC;AA3BY,aAAK,QA2BjB,CAAA;AAED;kBAAe,KAAK,CAAC"}